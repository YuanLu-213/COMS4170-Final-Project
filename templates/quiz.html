{% extends 'nav.html' %}

{% block content %}

<script>
    $(document).ready(function(){
        // $('h4').hide();

        // $('#hint').click(function(){
        //     $("h4").slideToggle();
        // })
        $("#dialog").dialog({
            autoOpen: false,
            modal: true
        });

        $("#dialog-check").dialog({
            autoOpen: false,
            modal: true
        });

        $( "form" ).submit(function( event ) {
            if ($('input[name=radAnswer]:checked').length > 0) {
                return;
            }
        
            $("#dialog-check").dialog({
                buttons : {
                    "Confirm" : function() {
                        $(this).dialog("close");
                    }
                }
            });

            $("#dialog-check").dialog("open");
            event.preventDefault();
        });
       
    });
    $("#confirm").click(function(e) {
        var targetUrl = $(this).attr("href");

        e.preventDefault();

        $("#dialog").dialog({
            buttons : {
                "Confirm" : function() {
                        window.location.href = targetUrl;
                    },
                "Cancel" : function() {
                    $(this).dialog("close");
                }
            }
        });

        $("#dialog").dialog("open");
    })
</script>

<div id="dialog" title="Confirmation Required">
    Leaving the page will automatically zero out the score. Are you sure about this?
</div>

<div id="dialog-check" title="Confirmation Required">
    You need to select one answer to submit the quiz.
</div>

<div class = 'row'>
    <div class = 'col-md-12'>
        <h2>
            Question {{data.id}}
        </h2>
    </div>
</div>

<div class = 'row'>
    <div class = 'col-md-12'>
        <h3>
            {{data.question}}
        </h3>
    </div>
</div>

<div class = 'row'>
    <div class = 'col-md-4'>
        <img src={{data.img}} alt="question{{data.id}}'s media"> 
    </div>
    <div class = 'col-md-4'>
        
        <form action="/checkAnswer" method="POST">
            {% for each in data.choice %}
            <input type='radio' name = 'radAnswer' value="{{each}}"> 
            <span>{{each}}</span>
            <br>
            {% endfor %}
            <button type="submit" class = 'hero-btn' name = 'button' value = "{{data.id}}">Submit</button>
        </form>
       
    </div>
    <div class = 'col-md-4'>
        <div class = 'row'>
            <div class = 'col-md-12'>
                <button class="hovertext" id ='hint' data-hover="{{data.hint}}">Hint</button>
            </div>
        </div>
    </div>
</div>

<div class = 'row'>
    <div class = 'col-md-12'>
        <br>
        <br>
        <br>
    </div>
</div>

{% endblock %}